<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="filebb">
<meta name="dcterms.date" content="2025-07-23">
<meta name="description" content="Comparing data.frame and tibble behavior in R: creation, subsetting, printing, and more.">
<title>data.frame vs tibble – Data Blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-c1f63da3e08f13bc72dc17e92cfd001d.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-5367a682021fdae75e364bb04b6cfe89.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="../../styles.css">
</head>
<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Data Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">
<code>data.frame</code> vs <code>tibble</code>
</h1>
                  <div>
        <div class="description">
          Comparing data.frame and tibble behavior in R: creation, subsetting, printing, and more.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">R</div>
                <div class="quarto-category">base::data.frame</div>
                <div class="quarto-category">tibble::tibble</div>
                <div class="quarto-category">tibble::tribble</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>filebb </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 23, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#create" id="toc-create" class="nav-link" data-scroll-target="#create">Create</a></li>
  <li><a href="#class" id="toc-class" class="nav-link" data-scroll-target="#class">Class</a></li>
  <li><a href="#structure-comparison" id="toc-structure-comparison" class="nav-link" data-scroll-target="#structure-comparison">Structure Comparison</a></li>
  <li><a href="#print" id="toc-print" class="nav-link" data-scroll-target="#print">Print</a></li>
  <li>
<a href="#subset" id="toc-subset" class="nav-link" data-scroll-target="#subset">Subset</a>
  <ul class="collapse">
<li><a href="#list-name-extractor" id="toc-list-name-extractor" class="nav-link" data-scroll-target="#list-name-extractor">List Name Extractor <code>$</code></a></li>
  <li><a href="#partial-matching" id="toc-partial-matching" class="nav-link" data-scroll-target="#partial-matching">Partial Matching</a></li>
  <li><a href="#bracket-subsetting-with-colname" id="toc-bracket-subsetting-with-colname" class="nav-link" data-scroll-target="#bracket-subsetting-with-colname">Bracket Subsetting with <code>["colname"]</code></a></li>
  <li><a href="#bracket-subsetting-with-colname-1" id="toc-bracket-subsetting-with-colname-1" class="nav-link" data-scroll-target="#bracket-subsetting-with-colname-1">Bracket Subsetting with <code>[ , "colname"]</code></a></li>
  <li><a href="#extracting-columns-with-colname-or-position" id="toc-extracting-columns-with-colname-or-position" class="nav-link" data-scroll-target="#extracting-columns-with-colname-or-position">Extracting Columns with <code>[[ "colname" ]]</code> or <code>[[ position ]]</code></a></li>
  </ul>
</li>
  <li><a href="#add-a-new-column-using--" id="toc-add-a-new-column-using--" class="nav-link" data-scroll-target="#add-a-new-column-using--">Add a New Column Using <code>$&lt;-</code></a></li>
  <li><a href="#summary-of-differences" id="toc-summary-of-differences" class="nav-link" data-scroll-target="#summary-of-differences">Summary of Differences</a></li>
  <li><a href="#create-by-row-tribble" id="toc-create-by-row-tribble" class="nav-link" data-scroll-target="#create-by-row-tribble">Create by Row: <code>tribble()</code></a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content"><section id="introduction" class="level1"><h1>Introduction</h1>
<p>In R, tabular data is typically stored using either a <code>data.frame</code> or a <code>tibble</code>.<br>
While they serve similar purposes, their behavior diverges in ways that affect printing, subsetting, and workflow safety.</p>
<p>This post compares their creation and structure, highlights key differences, and explains why tibbles are often the preferred choice in modern tidyverse workflows.</p>
</section><section id="create" class="level1"><h1>Create</h1>
<p>Base R provides the <code>data.frame</code> structure for storing and manipulating tabular data.<br>
A <code>data.frame</code> is essentially a list of equal-length vectors, where each vector becomes a column.</p>
<p>Here’s how to create a structured <code>data.frame</code> with five columns:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>    is_vowel      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>,</span>
<span>                      <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>,</span>
<span>                      <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>,</span>
<span>                      <span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    numbers       <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">26</span>,</span>
<span>    values        <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1.1</span>, by <span class="op">=</span> <span class="fl">0.1</span>, length.out <span class="op">=</span> <span class="fl">26</span><span class="op">)</span>,</span>
<span>    letters_lower <span class="op">=</span> <span class="va">letters</span>, <span class="co"># Built-in vector: "a" to "z"</span></span>
<span>    letters_upper <span class="op">=</span> <span class="va">LETTERS</span>  <span class="co"># Built-in vector: "A" to "Z"</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tibbles are the tidyverse alternative to <code>data.frame</code>.<br>
Tibbles eliminate many of the quirks of base R <code>data.frame</code>, making them safer and more predictable in data workflows.</p>
<p>Here’s the <code>tibble</code> equivalent using <code><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble::tibble()</a></code>:</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">tbl</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>    is_vowel      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>,</span>
<span>                      <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>,</span>
<span>                      <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>,</span>
<span>                      <span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    numbers       <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">26</span>,</span>
<span>    values        <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1.1</span>, by <span class="op">=</span> <span class="fl">0.1</span>, length.out <span class="op">=</span> <span class="fl">26</span><span class="op">)</span>,</span>
<span>    letters_lower <span class="op">=</span> <span class="va">letters</span>,</span>
<span>    letters_upper <span class="op">=</span> <span class="va">LETTERS</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>While both structures store the same data, their behavior diverges in subtle but important ways. Let’s look at how they differ when printed, subsetted, or used in a pipeline.</p>
</section><section id="class" class="level1"><h1>Class</h1>
<p>Although <code>df</code> and <code>tbl</code> store the same data, they belong to different object classes:</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">## [1] "data.frame"</span></span>
<span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span>
<span><span class="co">## [1] "tbl_df"     "tbl"        "data.frame"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tibbles extend base data-frames by layering two additional classes: <code>tbl</code> and <code>tbl_df</code>. This class hierarchy enables customized printing, stricter subsetting, and compatibility with tidyverse functions, all while remaining fully interoperable with functions expecting a plain <code>data.frame</code>.</p>
<p>You can use inherits() for targeted class checks:</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/class.html">inherits</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"data.frame"</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/class.html">inherits</a></span><span class="op">(</span><span class="va">tbl</span>, <span class="st">"data.frame"</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/class.html">inherits</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"tbl"</span><span class="op">)</span></span>
<span><span class="co">## [1] FALSE</span></span>
<span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/class.html">inherits</a></span><span class="op">(</span><span class="va">tbl</span>, <span class="st">"tbl"</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="structure-comparison" class="level1"><h1>Structure Comparison</h1>
<p>At their core, both <code>df</code> and <code>tbl</code> are <code>list</code>s under the hood, each column is a vector, and the object binds those vectors together under a tabular class. However, <code>tibble</code>s carry extra metadata for printing and structure.</p>
<p>Let’s inspect them:</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">## [1] "list"</span></span>
<span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span>
<span><span class="co">## [1] "list"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Using <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> they appear identical. But <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> reveals more subtle differences:</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">## 'data.frame':    26 obs. of  5 variables:</span></span>
<span><span class="co">##  $ is_vowel     : logi  TRUE FALSE FALSE FALSE TRUE FALSE ...</span></span>
<span><span class="co">##  $ numbers      : int  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">##  $ values       : num  1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2 ...</span></span>
<span><span class="co">##  $ letters_lower: chr  "a" "b" "c" "d" ...</span></span>
<span><span class="co">##  $ letters_upper: chr  "A" "B" "C" "D" ...</span></span>
<span></span>
<span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span>
<span><span class="co">## tibble [26 × 5] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">##  $ is_vowel     : logi [1:26] TRUE FALSE FALSE FALSE TRUE FALSE ...</span></span>
<span><span class="co">##  $ numbers      : int [1:26] 1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">##  $ values       : num [1:26] 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2 ...</span></span>
<span><span class="co">##  $ letters_lower: chr [1:26] "a" "b" "c" "d" ...</span></span>
<span><span class="co">##  $ letters_upper: chr [1:26] "A" "B" "C" "D" ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This reinforces the idea that tibbles are still lists with class <code>data.frame</code>, but their extra class layers change how they behave and display.</p>
</section><section id="print" class="level1"><h1>Print</h1>
<p>The first thing you’ll notice is how differently <code>data.frame</code> and <code>tibble</code> print. Tibbles have a print method that shows only the first 10 rows, and all the columns that fit on screen. This makes working with large datasets much easier. Each column in a tibble includes a compact type annotation, such as:</p>
<ul>
<li>
<code>&lt;lgl&gt;</code> — logical</li>
<li>
<code>&lt;int&gt;</code> — integer</li>
<li>
<code>&lt;dbl&gt;</code> — double</li>
<li>
<code>&lt;chr&gt;</code> — character</li>
</ul>
<p>Let’s print both and compare their outputs.</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span></span>
<span><span class="co">##    is_vowel numbers values letters_lower letters_upper</span></span>
<span><span class="co">## 1      TRUE       1    1.1             a             A</span></span>
<span><span class="co">## 2     FALSE       2    1.2             b             B</span></span>
<span><span class="co">## 3     FALSE       3    1.3             c             C</span></span>
<span><span class="co">## 4     FALSE       4    1.4             d             D</span></span>
<span><span class="co">## 5      TRUE       5    1.5             e             E</span></span>
<span><span class="co">## 6     FALSE       6    1.6             f             F</span></span>
<span><span class="co">## 7     FALSE       7    1.7             g             G</span></span>
<span><span class="co">## 8     FALSE       8    1.8             h             H</span></span>
<span><span class="co">## 9      TRUE       9    1.9             i             I</span></span>
<span><span class="co">## 10    FALSE      10    2.0             j             J</span></span>
<span><span class="co">## 11    FALSE      11    2.1             k             K</span></span>
<span><span class="co">## 12    FALSE      12    2.2             l             L</span></span>
<span><span class="co">## 13    FALSE      13    2.3             m             M</span></span>
<span><span class="co">## 14    FALSE      14    2.4             n             N</span></span>
<span><span class="co">## 15     TRUE      15    2.5             o             O</span></span>
<span><span class="co">## 16    FALSE      16    2.6             p             P</span></span>
<span><span class="co">## 17    FALSE      17    2.7             q             Q</span></span>
<span><span class="co">## 18    FALSE      18    2.8             r             R</span></span>
<span><span class="co">## 19    FALSE      19    2.9             s             S</span></span>
<span><span class="co">## 20    FALSE      20    3.0             t             T</span></span>
<span><span class="co">## 21     TRUE      21    3.1             u             U</span></span>
<span><span class="co">## 22    FALSE      22    3.2             v             V</span></span>
<span><span class="co">## 23    FALSE      23    3.3             w             W</span></span>
<span><span class="co">## 24    FALSE      24    3.4             x             X</span></span>
<span><span class="co">## 25    FALSE      25    3.5             y             Y</span></span>
<span><span class="co">## 26    FALSE      26    3.6             z             Z</span></span>
<span></span>
<span><span class="va">tbl</span></span>
<span><span class="co">## # A tibble: 26 × 5</span></span>
<span><span class="co">##    is_vowel numbers values letters_lower letters_upper</span></span>
<span><span class="co">##    &lt;lgl&gt;      &lt;int&gt;  &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;        </span></span>
<span><span class="co">##  1 TRUE           1    1.1 a             A            </span></span>
<span><span class="co">##  2 FALSE          2    1.2 b             B            </span></span>
<span><span class="co">##  3 FALSE          3    1.3 c             C            </span></span>
<span><span class="co">##  4 FALSE          4    1.4 d             D            </span></span>
<span><span class="co">##  5 TRUE           5    1.5 e             E            </span></span>
<span><span class="co">##  6 FALSE          6    1.6 f             F            </span></span>
<span><span class="co">##  7 FALSE          7    1.7 g             G            </span></span>
<span><span class="co">##  8 FALSE          8    1.8 h             H            </span></span>
<span><span class="co">##  9 TRUE           9    1.9 i             I            </span></span>
<span><span class="co">## 10 FALSE         10    2   j             J            </span></span>
<span><span class="co">## # ℹ 16 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="subset" class="level1"><h1>Subset</h1>
<p>Both <code>data.frame</code>s and <code>tibble</code>s support subsetting with <code>$</code>, <code>[</code>, and <code>[[</code>, but they behave differently in edge cases. Tibbles tend to be stricter and more predictable, helping catch subtle bugs early.</p>
<p>Let’s walk through each subsetting method and compare how data.frame and tibble behave under the hood.</p>
<section id="list-name-extractor" class="level2"><h2 class="anchored" data-anchor-id="list-name-extractor">List Name Extractor <code>$</code>
</h2>
<p>In R, the <code>$</code>operator, formally known as the <strong>list name extractor</strong>, is used to access elements by name from objects that behave like <code>list</code>s, such as <code>data.frame</code>s and <code>tibble</code>s.</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">values</span></span>
<span><span class="co">##  [1] 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9</span></span>
<span><span class="co">## [20] 3.0 3.1 3.2 3.3 3.4 3.5 3.6</span></span>
<span></span>
<span><span class="va">tbl</span><span class="op">$</span><span class="va">values</span></span>
<span><span class="co">##  [1] 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9</span></span>
<span><span class="co">## [20] 3.0 3.1 3.2 3.3 3.4 3.5 3.6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In both structures, <code>$</code> returns the column as a vector. But if the column name doesn’t exist:</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">missing_column</span>   <span class="co"># Returns NULL silently</span></span>
<span><span class="co">## NULL</span></span>
<span></span>
<span><span class="va">tbl</span><span class="op">$</span><span class="va">missing_column</span>  <span class="co"># Warning: unknown column, returns NULL</span></span>
<span><span class="co">## Warning: Unknown or uninitialised column: `missing_column`.</span></span>
<span><span class="co">## NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tibbles are stricter—they issue a warning when a column is missing. This makes them safer for debugging and helps catch typos or mismatched names early in the workflow.</p>
<p>Note that the common <code>$</code> syntax is a syntactic sugar:</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html">identical</a></span><span class="op">(</span><span class="fu">base</span><span class="fu">::</span><span class="fu">`$`</span><span class="op">(</span><span class="va">df</span>, <span class="st">"values"</span><span class="op">)</span>, <span class="va">df</span><span class="op">$</span><span class="va">values</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/identical.html">identical</a></span><span class="op">(</span><span class="fu">base</span><span class="fu">::</span><span class="fu">`$`</span><span class="op">(</span><span class="va">tbl</span>, <span class="st">"values"</span><span class="op">)</span>, <span class="va">tbl</span><span class="op">$</span><span class="va">values</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="partial-matching" class="level2"><h2 class="anchored" data-anchor-id="partial-matching">Partial Matching</h2>
<p>Unlike <code>tibble</code>s, base R <code>data.frame</code>s allow partial matching when accessing column names:</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">val</span> <span class="co"># Matches 'values'</span></span>
<span><span class="co">##  [1] 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9</span></span>
<span><span class="co">## [20] 3.0 3.1 3.2 3.3 3.4 3.5 3.6</span></span>
<span></span>
<span><span class="va">tbl</span><span class="op">$</span><span class="va">val</span> <span class="co"># Warning: no such column, returns NULL</span></span>
<span><span class="co">## Warning: Unknown or uninitialised column: `val`.</span></span>
<span><span class="co">## NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Base R’s partial matching stems from legacy flexibility, allowing quick exploratory coding. But in production workflows, this flexibility can introduce silent errors. Tibbles’ stricter behavior is generally safer. Consider the following example:</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">let</span> <span class="co"># Ambiguous: matches multiple columns, returns NULL silently</span></span>
<span><span class="co">## NULL</span></span>
<span></span>
<span><span class="va">tbl</span><span class="op">$</span><span class="va">let</span> <span class="co"># Warning: requires exact match, returns NULL</span></span>
<span><span class="co">## Warning: Unknown or uninitialised column: `let`.</span></span>
<span><span class="co">## NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In <code>data.frame</code>, <code>$let</code> silently returns <code>NULL</code>, since multiple columns begin with <code>'let'</code>. No warning is issued, making it easy to miss, especially inside larger pipelines or wrapped functions.</p>
<p>Tibbles, by contrast, enforce exact matching. They generate a warning when the column name isn’t found, helping you catch typos and ambiguous references early. This constraint reduces hidden bugs and promotes safer, more reliable code through clear intent.</p>
</section><section id="bracket-subsetting-with-colname" class="level2"><h2 class="anchored" data-anchor-id="bracket-subsetting-with-colname">Bracket Subsetting with <code>["colname"]</code>
</h2>
<p>When selecting one column with subset operator <code>[</code>, both structures preserve column names and types, but the returned object matches the source:</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">[</span><span class="st">"values"</span><span class="op">]</span> <span class="co"># Returns a one-column data.frame</span></span>
<span><span class="co">##    values</span></span>
<span><span class="co">## 1     1.1</span></span>
<span><span class="co">## 2     1.2</span></span>
<span><span class="co">## 3     1.3</span></span>
<span><span class="co">## 4     1.4</span></span>
<span><span class="co">## 5     1.5</span></span>
<span><span class="co">## 6     1.6</span></span>
<span><span class="co">## 7     1.7</span></span>
<span><span class="co">## 8     1.8</span></span>
<span><span class="co">## 9     1.9</span></span>
<span><span class="co">## 10    2.0</span></span>
<span><span class="co">## 11    2.1</span></span>
<span><span class="co">## 12    2.2</span></span>
<span><span class="co">## 13    2.3</span></span>
<span><span class="co">## 14    2.4</span></span>
<span><span class="co">## 15    2.5</span></span>
<span><span class="co">## 16    2.6</span></span>
<span><span class="co">## 17    2.7</span></span>
<span><span class="co">## 18    2.8</span></span>
<span><span class="co">## 19    2.9</span></span>
<span><span class="co">## 20    3.0</span></span>
<span><span class="co">## 21    3.1</span></span>
<span><span class="co">## 22    3.2</span></span>
<span><span class="co">## 23    3.3</span></span>
<span><span class="co">## 24    3.4</span></span>
<span><span class="co">## 25    3.5</span></span>
<span><span class="co">## 26    3.6</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span><span class="st">"values"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span></span>
<span><span class="va">tbl</span><span class="op">[</span><span class="st">"values"</span><span class="op">]</span> <span class="co"># Returns a one-column tibble</span></span>
<span><span class="co">## # A tibble: 26 × 1</span></span>
<span><span class="co">##    values</span></span>
<span><span class="co">##     &lt;dbl&gt;</span></span>
<span><span class="co">##  1    1.1</span></span>
<span><span class="co">##  2    1.2</span></span>
<span><span class="co">##  3    1.3</span></span>
<span><span class="co">##  4    1.4</span></span>
<span><span class="co">##  5    1.5</span></span>
<span><span class="co">##  6    1.6</span></span>
<span><span class="co">##  7    1.7</span></span>
<span><span class="co">##  8    1.8</span></span>
<span><span class="co">##  9    1.9</span></span>
<span><span class="co">## 10    2  </span></span>
<span><span class="co">## # ℹ 16 more rows</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">[</span><span class="st">"values"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE TRUE TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This consistency helps maintain predictable behavior in pipelines and avoids surprises when chaining operations.</p>
<p>Note that the common <code>[</code> syntax is a syntactic sugar:</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html">identical</a></span><span class="op">(</span><span class="fu">base</span><span class="fu">::</span><span class="fu">`[`</span><span class="op">(</span><span class="va">df</span>, <span class="st">"values"</span><span class="op">)</span>, <span class="va">df</span><span class="op">[</span><span class="st">"values"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/identical.html">identical</a></span><span class="op">(</span><span class="fu">base</span><span class="fu">::</span><span class="fu">`[`</span><span class="op">(</span><span class="va">tbl</span>, <span class="st">"values"</span><span class="op">)</span>, <span class="va">tbl</span><span class="op">[</span><span class="st">"values"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Subset operator can be used to select more columns:</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"numbers"</span>, <span class="st">"letters_upper"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">##    numbers letters_upper</span></span>
<span><span class="co">## 1        1             A</span></span>
<span><span class="co">## 2        2             B</span></span>
<span><span class="co">## 3        3             C</span></span>
<span><span class="co">## 4        4             D</span></span>
<span><span class="co">## 5        5             E</span></span>
<span><span class="co">## 6        6             F</span></span>
<span><span class="co">## 7        7             G</span></span>
<span><span class="co">## 8        8             H</span></span>
<span><span class="co">## 9        9             I</span></span>
<span><span class="co">## 10      10             J</span></span>
<span><span class="co">## 11      11             K</span></span>
<span><span class="co">## 12      12             L</span></span>
<span><span class="co">## 13      13             M</span></span>
<span><span class="co">## 14      14             N</span></span>
<span><span class="co">## 15      15             O</span></span>
<span><span class="co">## 16      16             P</span></span>
<span><span class="co">## 17      17             Q</span></span>
<span><span class="co">## 18      18             R</span></span>
<span><span class="co">## 19      19             S</span></span>
<span><span class="co">## 20      20             T</span></span>
<span><span class="co">## 21      21             U</span></span>
<span><span class="co">## 22      22             V</span></span>
<span><span class="co">## 23      23             W</span></span>
<span><span class="co">## 24      24             X</span></span>
<span><span class="co">## 25      25             Y</span></span>
<span><span class="co">## 26      26             Z</span></span>
<span></span>
<span><span class="va">tbl</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"numbers"</span>, <span class="st">"letters_upper"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">## # A tibble: 26 × 2</span></span>
<span><span class="co">##    numbers letters_upper</span></span>
<span><span class="co">##      &lt;int&gt; &lt;chr&gt;        </span></span>
<span><span class="co">##  1       1 A            </span></span>
<span><span class="co">##  2       2 B            </span></span>
<span><span class="co">##  3       3 C            </span></span>
<span><span class="co">##  4       4 D            </span></span>
<span><span class="co">##  5       5 E            </span></span>
<span><span class="co">##  6       6 F            </span></span>
<span><span class="co">##  7       7 G            </span></span>
<span><span class="co">##  8       8 H            </span></span>
<span><span class="co">##  9       9 I            </span></span>
<span><span class="co">## 10      10 J            </span></span>
<span><span class="co">## # ℹ 16 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A numerical vector with columns position can also be provided:</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html">identical</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span><span class="st">"values"</span><span class="op">]</span>, <span class="va">df</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/identical.html">identical</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">[</span><span class="st">"values"</span><span class="op">]</span>, <span class="va">tbl</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/identical.html">identical</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"numbers"</span>, <span class="st">"letters_upper"</span><span class="op">)</span><span class="op">]</span>, <span class="va">df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">5</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/identical.html">identical</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"numbers"</span>, <span class="st">"letters_upper"</span><span class="op">)</span><span class="op">]</span>, <span class="va">tbl</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">5</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="bracket-subsetting-with-colname-1" class="level2"><h2 class="anchored" data-anchor-id="bracket-subsetting-with-colname-1">Bracket Subsetting with <code>[ , "colname"]</code>
</h2>
<p>When subsetting with two indices, i.e.&nbsp;<code>df[, "values"]</code> we’re instructing R to return all rows and a named column by character reference. While this syntax appears identical across <code>data.frame</code> and <code>tibble</code>, the behavior differs in a meaningful way:</p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">[</span>, <span class="st">"values"</span><span class="op">]</span> <span class="co"># Returns a vector (column extracted)</span></span>
<span><span class="co">##  [1] 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9</span></span>
<span><span class="co">## [20] 3.0 3.1 3.2 3.3 3.4 3.5 3.6</span></span>
<span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">is.data.frame</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="st">"values"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] FALSE</span></span>
<span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="st">"values"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] "numeric"</span></span>
<span></span>
<span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="st">"values"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">##  num [1:26] 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2 ...</span></span>
<span></span>
<span><span class="va">tbl</span><span class="op">[</span>, <span class="st">"values"</span><span class="op">]</span> <span class="co"># Returns a tibble (preserves tbl_df structure)</span></span>
<span><span class="co">## # A tibble: 26 × 1</span></span>
<span><span class="co">##    values</span></span>
<span><span class="co">##     &lt;dbl&gt;</span></span>
<span><span class="co">##  1    1.1</span></span>
<span><span class="co">##  2    1.2</span></span>
<span><span class="co">##  3    1.3</span></span>
<span><span class="co">##  4    1.4</span></span>
<span><span class="co">##  5    1.5</span></span>
<span><span class="co">##  6    1.6</span></span>
<span><span class="co">##  7    1.7</span></span>
<span><span class="co">##  8    1.8</span></span>
<span><span class="co">##  9    1.9</span></span>
<span><span class="co">## 10    2  </span></span>
<span><span class="co">## # ℹ 16 more rows</span></span>
<span></span>
<span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/is_tibble.html">is_tibble</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">[</span>, <span class="st">"values"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">[</span>, <span class="st">"values"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] "tbl_df"     "tbl"        "data.frame"</span></span>
<span></span>
<span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">[</span>, <span class="st">"values"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## tibble [26 × 1] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">##  $ values: num [1:26] 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2 ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This behavior reflects tibble’s design philosophy: predictable and structure-preserving results, especially useful in tidyverse pipelines.</p>
</section><section id="extracting-columns-with-colname-or-position" class="level2"><h2 class="anchored" data-anchor-id="extracting-columns-with-colname-or-position">Extracting Columns with <code>[[ "colname" ]]</code> or <code>[[ position ]]</code>
</h2>
<p>The double-bracket operator <code>[[</code> is used to extract elements by name or position with exact intent. Unlike <code>[</code>, which returns a one-column <code>data.frame</code> or <code>tibble</code>, <code>[[</code> returns the column as a vector.</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">[[</span><span class="st">"values"</span><span class="op">]</span><span class="op">]</span> <span class="co"># Returns a vector</span></span>
<span><span class="co">##  [1] 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9</span></span>
<span><span class="co">## [20] 3.0 3.1 3.2 3.3 3.4 3.5 3.6</span></span>
<span></span>
<span><span class="va">tbl</span><span class="op">[[</span><span class="st">"values"</span><span class="op">]</span><span class="op">]</span> <span class="co"># Returns a vector</span></span>
<span><span class="co">##  [1] 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9</span></span>
<span><span class="co">## [20] 3.0 3.1 3.2 3.3 3.4 3.5 3.6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>[[</code> supports also numeric indexing:</p>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">df</span><span class="op">[[</span><span class="st">"values"</span><span class="op">]</span><span class="op">]</span><span class="op">==</span> <span class="va">df</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">df</span><span class="op">[[</span><span class="st">"values"</span><span class="op">]</span><span class="op">]</span> <span class="op">==</span> <span class="va">tbl</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Contrary to <code>[</code>, <code>[[</code> only allows extraction of a single element, not multiple columns:</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span><span class="op">]</span>  <span class="co"># FALSE</span></span>
<span><span class="co">## [1] FALSE</span></span>
<span></span>
<span><span class="va">tbl</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span><span class="op">]</span>  <span class="co"># Error: only one element (column) can be extracted</span></span>
<span><span class="co">## Error:</span></span>
<span><span class="co">## ! The `j` argument of `[[.tbl_df()` can't be a vector of length 2 as of</span></span>
<span><span class="co">##   tibble 3.0.0.</span></span>
<span><span class="co">## ℹ Recursive subsetting is deprecated for tibbles.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>What happens in the <code>data.frame</code> case is that when you pass <code>c(1, 3)</code> to <code>df[[ ]]</code>, R doesn’t extract multiple columns. Instead, it interprets the whole vector as a compound index, which is valid but not intuitive. In pratice <code>df[[c(1, 3)]]</code> is equivalent to <code>df[[1]][3]</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html">identical</a></span><span class="op">(</span><span class="va">df</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span><span class="op">]</span>, <span class="va">df</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In tidyverse workflows, <code><a href="https://dplyr.tidyverse.org/reference/pull.html">dplyr::pull</a></code> is a friendly wrapper around <code>[[</code>, with added clarity:</p>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="st">"values"</span><span class="op">)</span></span>
<span><span class="co">##  [1] 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9</span></span>
<span><span class="co">## [20] 3.0 3.1 3.2 3.3 3.4 3.5 3.6</span></span>
<span></span>
<span><span class="va">tbl</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="st">"values"</span><span class="op">)</span></span>
<span><span class="co">##  [1] 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9</span></span>
<span><span class="co">## [20] 3.0 3.1 3.2 3.3 3.4 3.5 3.6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note: <code>pull</code> works seamlessly with both <code>data.frame</code> and <code>tibble</code>.</p>
<p>As with <code>$</code> and <code>[ ]</code>, the <code>[[ ]]</code> operator is syntactic sugar:</p>
<div class="cell">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="fu">base</span><span class="fu">::</span><span class="fu">`[[`</span><span class="op">(</span><span class="va">df</span>, <span class="st">"values"</span><span class="op">)</span> <span class="op">==</span> <span class="va">df</span><span class="op">[[</span><span class="st">"values"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="fu">base</span><span class="fu">::</span><span class="fu">`[[`</span><span class="op">(</span><span class="va">tbl</span>, <span class="st">"values"</span><span class="op">)</span> <span class="op">==</span> <span class="va">tbl</span><span class="op">[[</span><span class="st">"values"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="add-a-new-column-using--" class="level1"><h1>Add a New Column Using <code>$&lt;-</code>
</h1>
<p>Adding a new column to a <code>data.frame</code> using <code>$</code> will recycle the vector used if its length is less than the number of rows of the <code>data.frame</code> (but assuming that the number of elemnts of the vector is a submultiple of the number of rows of the <code>data.frame</code>).</p>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">more_numbers</span> <span class="op">&lt;-</span> <span class="fl">27</span><span class="op">:</span><span class="fl">28</span></span>
<span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">more_numbers</span></span>
<span><span class="co">##  [1] 27 28 27 28 27 28 27 28 27 28 27 28 27 28 27 28 27 28 27 28 27 28 27 28 27</span></span>
<span><span class="co">## [26] 28</span></span>
<span></span>
<span><span class="va">df</span></span>
<span><span class="co">##    is_vowel numbers values letters_lower letters_upper more_numbers</span></span>
<span><span class="co">## 1      TRUE       1    1.1             a             A           27</span></span>
<span><span class="co">## 2     FALSE       2    1.2             b             B           28</span></span>
<span><span class="co">## 3     FALSE       3    1.3             c             C           27</span></span>
<span><span class="co">## 4     FALSE       4    1.4             d             D           28</span></span>
<span><span class="co">## 5      TRUE       5    1.5             e             E           27</span></span>
<span><span class="co">## 6     FALSE       6    1.6             f             F           28</span></span>
<span><span class="co">## 7     FALSE       7    1.7             g             G           27</span></span>
<span><span class="co">## 8     FALSE       8    1.8             h             H           28</span></span>
<span><span class="co">## 9      TRUE       9    1.9             i             I           27</span></span>
<span><span class="co">## 10    FALSE      10    2.0             j             J           28</span></span>
<span><span class="co">## 11    FALSE      11    2.1             k             K           27</span></span>
<span><span class="co">## 12    FALSE      12    2.2             l             L           28</span></span>
<span><span class="co">## 13    FALSE      13    2.3             m             M           27</span></span>
<span><span class="co">## 14    FALSE      14    2.4             n             N           28</span></span>
<span><span class="co">## 15     TRUE      15    2.5             o             O           27</span></span>
<span><span class="co">## 16    FALSE      16    2.6             p             P           28</span></span>
<span><span class="co">## 17    FALSE      17    2.7             q             Q           27</span></span>
<span><span class="co">## 18    FALSE      18    2.8             r             R           28</span></span>
<span><span class="co">## 19    FALSE      19    2.9             s             S           27</span></span>
<span><span class="co">## 20    FALSE      20    3.0             t             T           28</span></span>
<span><span class="co">## 21     TRUE      21    3.1             u             U           27</span></span>
<span><span class="co">## 22    FALSE      22    3.2             v             V           28</span></span>
<span><span class="co">## 23    FALSE      23    3.3             w             W           27</span></span>
<span><span class="co">## 24    FALSE      24    3.4             x             X           28</span></span>
<span><span class="co">## 25    FALSE      25    3.5             y             Y           27</span></span>
<span><span class="co">## 26    FALSE      26    3.6             z             Z           28</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In general, a <code>tibble</code> does not allow it</p>
<div class="cell">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">tbl</span><span class="op">$</span><span class="va">more_numbers</span> <span class="op">&lt;-</span> <span class="fl">27</span><span class="op">:</span><span class="fl">28</span></span>
<span><span class="co">## Error in `$&lt;-`:</span></span>
<span><span class="co">## ! Assigned data `27:28` must be compatible with existing data.</span></span>
<span><span class="co">## ✖ Existing data has 26 rows.</span></span>
<span><span class="co">## ✖ Assigned data has 2 rows.</span></span>
<span><span class="co">## ℹ Only vectors of size 1 are recycled.</span></span>
<span><span class="co">## Caused by error in `vectbl_recycle_rhs_rows()`:</span></span>
<span><span class="co">## ! Can't recycle input of size 2 to size 26.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Unless we want to recycle a vector of length 1 or of length equal to the number of rows:</p>
<div class="cell">
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">tbl</span><span class="op">$</span><span class="va">more_numbers</span> <span class="op">&lt;-</span> <span class="fl">27</span><span class="op">:</span><span class="fl">52</span> <span class="co"># Length 26 — accepted</span></span>
<span><span class="va">tbl</span><span class="op">$</span><span class="va">constant</span> <span class="op">&lt;-</span> <span class="fl">53</span>        <span class="co"># Length 1 — accepted</span></span>
<span></span>
<span><span class="va">tbl</span></span>
<span><span class="co">## # A tibble: 26 × 7</span></span>
<span><span class="co">##    is_vowel numbers values letters_lower letters_upper more_numbers constant</span></span>
<span><span class="co">##    &lt;lgl&gt;      &lt;int&gt;  &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;                &lt;int&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">##  1 TRUE           1    1.1 a             A                       27       53</span></span>
<span><span class="co">##  2 FALSE          2    1.2 b             B                       28       53</span></span>
<span><span class="co">##  3 FALSE          3    1.3 c             C                       29       53</span></span>
<span><span class="co">##  4 FALSE          4    1.4 d             D                       30       53</span></span>
<span><span class="co">##  5 TRUE           5    1.5 e             E                       31       53</span></span>
<span><span class="co">##  6 FALSE          6    1.6 f             F                       32       53</span></span>
<span><span class="co">##  7 FALSE          7    1.7 g             G                       33       53</span></span>
<span><span class="co">##  8 FALSE          8    1.8 h             H                       34       53</span></span>
<span><span class="co">##  9 TRUE           9    1.9 i             I                       35       53</span></span>
<span><span class="co">## 10 FALSE         10    2   j             J                       36       53</span></span>
<span><span class="co">## # ℹ 16 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Also the <code>$&lt;-</code> assignment is syntactic sugar:</p>
<div class="cell">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># let's restart from the original df</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>    is_vowel      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>,</span>
<span>                      <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>,</span>
<span>                      <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>,</span>
<span>                      <span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    numbers       <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">26</span>,</span>
<span>    values        <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1.1</span>, by <span class="op">=</span> <span class="fl">0.1</span>, length.out <span class="op">=</span> <span class="fl">26</span><span class="op">)</span>,</span>
<span>    letters_lower <span class="op">=</span> <span class="va">letters</span>, <span class="co"># Built-in vector: "a" to "z"</span></span>
<span>    letters_upper <span class="op">=</span> <span class="va">LETTERS</span>  <span class="co"># Built-in vector: "A" to "Z"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># create a new column</span></span>
<span><span class="fu">`$&lt;-`</span><span class="op">(</span><span class="va">df</span>, <span class="st">"another_constant"</span>, <span class="fl">54</span><span class="op">)</span></span>
<span><span class="co">##    is_vowel numbers values letters_lower letters_upper another_constant</span></span>
<span><span class="co">## 1      TRUE       1    1.1             a             A               54</span></span>
<span><span class="co">## 2     FALSE       2    1.2             b             B               54</span></span>
<span><span class="co">## 3     FALSE       3    1.3             c             C               54</span></span>
<span><span class="co">## 4     FALSE       4    1.4             d             D               54</span></span>
<span><span class="co">## 5      TRUE       5    1.5             e             E               54</span></span>
<span><span class="co">## 6     FALSE       6    1.6             f             F               54</span></span>
<span><span class="co">## 7     FALSE       7    1.7             g             G               54</span></span>
<span><span class="co">## 8     FALSE       8    1.8             h             H               54</span></span>
<span><span class="co">## 9      TRUE       9    1.9             i             I               54</span></span>
<span><span class="co">## 10    FALSE      10    2.0             j             J               54</span></span>
<span><span class="co">## 11    FALSE      11    2.1             k             K               54</span></span>
<span><span class="co">## 12    FALSE      12    2.2             l             L               54</span></span>
<span><span class="co">## 13    FALSE      13    2.3             m             M               54</span></span>
<span><span class="co">## 14    FALSE      14    2.4             n             N               54</span></span>
<span><span class="co">## 15     TRUE      15    2.5             o             O               54</span></span>
<span><span class="co">## 16    FALSE      16    2.6             p             P               54</span></span>
<span><span class="co">## 17    FALSE      17    2.7             q             Q               54</span></span>
<span><span class="co">## 18    FALSE      18    2.8             r             R               54</span></span>
<span><span class="co">## 19    FALSE      19    2.9             s             S               54</span></span>
<span><span class="co">## 20    FALSE      20    3.0             t             T               54</span></span>
<span><span class="co">## 21     TRUE      21    3.1             u             U               54</span></span>
<span><span class="co">## 22    FALSE      22    3.2             v             V               54</span></span>
<span><span class="co">## 23    FALSE      23    3.3             w             W               54</span></span>
<span><span class="co">## 24    FALSE      24    3.4             x             X               54</span></span>
<span><span class="co">## 25    FALSE      25    3.5             y             Y               54</span></span>
<span><span class="co">## 26    FALSE      26    3.6             z             Z               54</span></span>
<span></span>
<span><span class="co"># let's restart from the original tbl</span></span>
<span><span class="va">tbl</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>    is_vowel      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>,</span>
<span>                      <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>,</span>
<span>                      <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>,</span>
<span>                      <span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    numbers       <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">26</span>,</span>
<span>    values        <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1.1</span>, by <span class="op">=</span> <span class="fl">0.1</span>, length.out <span class="op">=</span> <span class="fl">26</span><span class="op">)</span>,</span>
<span>    letters_lower <span class="op">=</span> <span class="va">letters</span>,</span>
<span>    letters_upper <span class="op">=</span> <span class="va">LETTERS</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># similarly for tibbles</span></span>
<span><span class="fu">`$&lt;-`</span><span class="op">(</span><span class="va">tbl</span>, <span class="st">"another_constant"</span>, <span class="fl">54</span><span class="op">)</span></span>
<span><span class="co">## # A tibble: 26 × 6</span></span>
<span><span class="co">##    is_vowel numbers values letters_lower letters_upper another_constant</span></span>
<span><span class="co">##    &lt;lgl&gt;      &lt;int&gt;  &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;                    &lt;dbl&gt;</span></span>
<span><span class="co">##  1 TRUE           1    1.1 a             A                           54</span></span>
<span><span class="co">##  2 FALSE          2    1.2 b             B                           54</span></span>
<span><span class="co">##  3 FALSE          3    1.3 c             C                           54</span></span>
<span><span class="co">##  4 FALSE          4    1.4 d             D                           54</span></span>
<span><span class="co">##  5 TRUE           5    1.5 e             E                           54</span></span>
<span><span class="co">##  6 FALSE          6    1.6 f             F                           54</span></span>
<span><span class="co">##  7 FALSE          7    1.7 g             G                           54</span></span>
<span><span class="co">##  8 FALSE          8    1.8 h             H                           54</span></span>
<span><span class="co">##  9 TRUE           9    1.9 i             I                           54</span></span>
<span><span class="co">## 10 FALSE         10    2   j             J                           54</span></span>
<span><span class="co">## # ℹ 16 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that Using <code>$&lt;-</code> in this manner returns a modified copy but does not alter the original df or tbl object unless explicitly reassigned.</p>
<div class="cell">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span></span>
<span><span class="co">##    is_vowel numbers values letters_lower letters_upper</span></span>
<span><span class="co">## 1      TRUE       1    1.1             a             A</span></span>
<span><span class="co">## 2     FALSE       2    1.2             b             B</span></span>
<span><span class="co">## 3     FALSE       3    1.3             c             C</span></span>
<span><span class="co">## 4     FALSE       4    1.4             d             D</span></span>
<span><span class="co">## 5      TRUE       5    1.5             e             E</span></span>
<span><span class="co">## 6     FALSE       6    1.6             f             F</span></span>
<span><span class="co">## 7     FALSE       7    1.7             g             G</span></span>
<span><span class="co">## 8     FALSE       8    1.8             h             H</span></span>
<span><span class="co">## 9      TRUE       9    1.9             i             I</span></span>
<span><span class="co">## 10    FALSE      10    2.0             j             J</span></span>
<span><span class="co">## 11    FALSE      11    2.1             k             K</span></span>
<span><span class="co">## 12    FALSE      12    2.2             l             L</span></span>
<span><span class="co">## 13    FALSE      13    2.3             m             M</span></span>
<span><span class="co">## 14    FALSE      14    2.4             n             N</span></span>
<span><span class="co">## 15     TRUE      15    2.5             o             O</span></span>
<span><span class="co">## 16    FALSE      16    2.6             p             P</span></span>
<span><span class="co">## 17    FALSE      17    2.7             q             Q</span></span>
<span><span class="co">## 18    FALSE      18    2.8             r             R</span></span>
<span><span class="co">## 19    FALSE      19    2.9             s             S</span></span>
<span><span class="co">## 20    FALSE      20    3.0             t             T</span></span>
<span><span class="co">## 21     TRUE      21    3.1             u             U</span></span>
<span><span class="co">## 22    FALSE      22    3.2             v             V</span></span>
<span><span class="co">## 23    FALSE      23    3.3             w             W</span></span>
<span><span class="co">## 24    FALSE      24    3.4             x             X</span></span>
<span><span class="co">## 25    FALSE      25    3.5             y             Y</span></span>
<span><span class="co">## 26    FALSE      26    3.6             z             Z</span></span>
<span></span>
<span><span class="va">tbl</span></span>
<span><span class="co">## # A tibble: 26 × 5</span></span>
<span><span class="co">##    is_vowel numbers values letters_lower letters_upper</span></span>
<span><span class="co">##    &lt;lgl&gt;      &lt;int&gt;  &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;        </span></span>
<span><span class="co">##  1 TRUE           1    1.1 a             A            </span></span>
<span><span class="co">##  2 FALSE          2    1.2 b             B            </span></span>
<span><span class="co">##  3 FALSE          3    1.3 c             C            </span></span>
<span><span class="co">##  4 FALSE          4    1.4 d             D            </span></span>
<span><span class="co">##  5 TRUE           5    1.5 e             E            </span></span>
<span><span class="co">##  6 FALSE          6    1.6 f             F            </span></span>
<span><span class="co">##  7 FALSE          7    1.7 g             G            </span></span>
<span><span class="co">##  8 FALSE          8    1.8 h             H            </span></span>
<span><span class="co">##  9 TRUE           9    1.9 i             I            </span></span>
<span><span class="co">## 10 FALSE         10    2   j             J            </span></span>
<span><span class="co">## # ℹ 16 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="summary-of-differences" class="level1"><h1>Summary of Differences</h1>
<table class="caption-top table">
<colgroup>
<col style="width: 31%">
<col style="width: 33%">
<col style="width: 34%">
</colgroup>
<thead><tr class="header">
<th>Feature</th>
<th><code>data.frame</code></th>
<th><code>tibble</code></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Class structure</td>
<td><code>data.frame</code></td>
<td>
<code>tbl_df</code>, <code>tbl</code>, <code>data.frame</code>
</td>
</tr>
<tr class="even">
<td>Printing</td>
<td>Prints entire object</td>
<td>First 10 rows, compact column metadata</td>
</tr>
<tr class="odd">
<td>
<code>$</code> with typo</td>
<td>Returns <code>NULL</code> silently</td>
<td>Returns <code>NULL</code> with warning</td>
</tr>
<tr class="even">
<td>Partial matching</td>
<td>Allowed</td>
<td>Disallowed</td>
</tr>
<tr class="odd">
<td>
<code>$</code> access</td>
<td>Returns column as vector</td>
<td>Returns column as vector</td>
</tr>
<tr class="even">
<td>
<code>[ "&lt;colname&gt;" ]</code>or <code>[ &lt;pos&gt; ]</code>
</td>
<td>Returns one-column <code>data.frame</code>
</td>
<td>Returns one-column tibble</td>
</tr>
<tr class="odd">
<td><code>[ multi-column ]</code></td>
<td>Preserves source structure</td>
<td>Preserves source structure</td>
</tr>
<tr class="even">
<td><code>[ , "colname" ]</code></td>
<td>Returns column as vector</td>
<td>Returns one-column tibble</td>
</tr>
<tr class="odd">
<td>
<code>[[ "&lt;colname&gt;" ]]</code> or <code>[[ &lt;pos&gt; ]]</code>
</td>
<td>Returns column as vector</td>
<td>Returns column as vector</td>
</tr>
<tr class="even">
<td><code>[[ multi-pos ]]</code></td>
<td>Ambiguous compound index → scalar value</td>
<td>Error: only one column can be extracted</td>
</tr>
<tr class="odd">
<td><code><a href="https://dplyr.tidyverse.org/reference/pull.html">dplyr::pull()</a></code></td>
<td>Supported</td>
<td>Supported</td>
</tr>
<tr class="even">
<td>
<code>$&lt;-</code> with short vector</td>
<td>Recycles if length divides evenly</td>
<td>Error unless length is 1 or matches nrow</td>
</tr>
<tr class="odd">
<td>
<code>$&lt;-</code> with length mismatch</td>
<td>Warns but allows</td>
<td>Throws error</td>
</tr>
</tbody>
</table></section><section id="create-by-row-tribble" class="level1"><h1>Create by Row: <code>tribble()</code>
</h1>
<p>The <code><a href="https://tibble.tidyverse.org/reference/tribble.html">tibble::tribble()</a></code> function (“transposed tibble”) offers a readable, row-wise syntax that makes small tables clearer, especially in documentation, examples, and teaching material.</p>
<div class="cell">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">letters</span>, <span class="op">~</span><span class="va">numbers</span>,</span>
<span>  <span class="st">"a"</span>,      <span class="fl">1</span>,</span>
<span>  <span class="st">"b"</span>,      <span class="fl">2</span>,</span>
<span>  <span class="st">"c"</span>,      <span class="fl">3</span></span>
<span><span class="op">)</span></span>
<span><span class="co">## # A tibble: 3 × 2</span></span>
<span><span class="co">##   letters numbers</span></span>
<span><span class="co">##   &lt;chr&gt;     &lt;dbl&gt;</span></span>
<span><span class="co">## 1 a             1</span></span>
<span><span class="co">## 2 b             2</span></span>
<span><span class="co">## 3 c             3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Advantages:</p>
<ul>
<li><p>Column headers preceded by <code>~</code>: Visually distinguishes variables.</p></li>
<li><p>Row-wise entry: Mirrors how we often conceptualize tables.</p></li>
<li><p>Safe type inference: Similar to <code>tibble()</code>, avoids surprises.</p></li>
</ul>
<p>Base R doesn’t offer a native row-wise constructor for <code>data.frame</code>, and there are not simple workarounds (as far as I know!). Base R can construct row-wise structures using <code>rbind</code>, but these have major limitations:</p>
<div class="cell">
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"c"</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">##      [,1] [,2]</span></span>
<span><span class="co">## [1,] "a"  "1" </span></span>
<span><span class="co">## [2,] "b"  "2" </span></span>
<span><span class="co">## [3,] "c"  "3"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This returns a character <code>matrix</code> not a <code>data.frame</code>. Type information is lost due to coercion:</p>
<div class="cell">
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"c"</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">## [1] "character"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="references" class="level1"><h1>References</h1>
<ul>
<li><p><a href="https://tibble.tidyverse.org/index.html">Tibble</a> package documentation</p></li>
<li><p><a href="https://posit.co/blog/tibble-1-0-0/">Tibble</a> from Posit blog</p></li>
</ul>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/Filebb\.github\.io\/data-blog\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->



</body></html>